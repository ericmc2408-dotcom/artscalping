<!DOCTYPE html>
<html lang="fr">
<head>
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-F635WMM1MZ"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'G-F635WMM1MZ');
    </script>
        
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Menu Principal - ArtScalping</title>
    <meta name="google-site-verification" content="4YNw1JU7CR8E0lV55MED2KDWTJYfeUx6nVEcBcBi1vs" />
    <style>
        body {
            margin: 0;
            background-color: #2c3e50;
            color: #ecf0f1;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            display: flex;
            height: 100vh;
        }

        .sidebar {
            width: 200px;
            background-color: #34495e;
            padding: 20px;
            box-shadow: 2px 0 10px rgba(0, 0, 0, 0.3);
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        .sidebar h1 {
            color: #f1c40f;
            font-size: 1.8em;
            margin-bottom: 30px;
            cursor: pointer;
        }
        
        .language-switcher {
            margin-bottom: 20px;
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 5px;
        }
        
        .language-switcher img {
            width: 30px;
            height: 20px;
            object-fit: cover;
            cursor: pointer;
            border-radius: 3px;
            opacity: 0.6;
            transition: opacity 0.3s ease, transform 0.2s ease;
            box-shadow: 0 0 5px rgba(0, 0, 0, 0.3);
        }

        .language-switcher img.active,
        .language-switcher img:hover {
            opacity: 1;
            transform: scale(1.1);
        }
        
        .menu-list {
            list-style: none;
            padding: 0;
            width: 100%;
        }

        .menu-item {
            margin-bottom: 15px;
        }

        .menu-link {
            display: flex;
            align-items: center;
            background-color: #2980b9;
            color: #ecf0f1;
            padding: 10px;
            text-decoration: none;
            border-radius: 8px;
            font-size: 1.1em;
            font-weight: bold;
            transition: background-color 0.3s ease, transform 0.2s ease;
        }
        
        .menu-link:hover {
            background-color: #3498db;
            transform: scale(1.02);
        }

        .menu-link.subscribe {
            background-color: #2ecc71;
        }
        
        .menu-link.subscribe:hover {
            background-color: #27ae60;
        }
        
        .menu-link.contact {
            background-color: #e74c3c;
        }

        .menu-link.contact:hover {
            background-color: #c0392b;
        }

        .menu-link .icon {
            margin-right: 15px;
            font-size: 1.5em;
        }
        
        /* Ajustements pour les textes arabes */
        .text-ar {
            direction: rtl;
            text-align: right;
        }

        .content {
            flex-grow: 1;
            padding: 20px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: flex-start;
            position: relative;
        }

        .main-iframe {
            width: 100%;
            height: 100%;
            border: none;
            display: none;
        }
        
        #table-container {
            width: 100%;
            max-width: 1000px;
            margin-top: 20px;
            overflow-x: auto;
            display: none;
        }

        #data-table {
            width: 100%;
            border-collapse: collapse;
            background-color: #34495e;
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 4px 8px rgba(0,0,0,0.2);
            margin-bottom: 20px;
            table-layout: fixed;
            font-size: 0.9em;
        }

        #data-table th, #data-table td {
            border: 1px solid #2c3e50;
            padding: 8px;
            text-align: center;
            word-wrap: break-word;
        }
        
        #data-table thead th {
            background-color: #2980b9;
            color: white;
            font-weight: bold;
            text-transform: uppercase;
        }

        #data-table tbody tr:nth-child(even) {
            background-color: #2c3e50;
        }

        #data-table tbody tr:hover {
            background-color: #3f586a;
        }
        
        /* Styles pour les 4 dernières colonnes des tableaux de gestion */
        #data-table td:nth-last-child(4) {
            background-color: green;
            color: white;
        }
        #data-table td:nth-last-child(3) {
            background-color: red;
            color: white;
        }
        #data-table td:nth-last-child(2) {
            background-color: blue;
            color: white;
        }
        #data-table td:nth-last-child(1) {
            background-color: orange;
            color: black;
        }
        
        /* Règles pour les petits écrans (téléphones) */
        @media (max-width: 768px) {
            body {
                flex-direction: column;
            }

            .sidebar {
                width: 100%;
                padding: 10px;
                flex-direction: row;
                justify-content: center;
                flex-wrap: wrap;
                box-shadow: none;
            }
            
            .sidebar h1 {
                display: none;
            }
            
            .language-switcher {
                margin-bottom: 10px;
            }

            .menu-list {
                display: flex;
                flex-wrap: wrap;
                justify-content: center;
            }
            
            .menu-item {
                margin: 5px;
            }

            .menu-link {
                font-size: 0.9em;
                padding: 8px 12px;
                text-align: center;
            }
            
            .menu-link .icon {
                margin-right: 5px;
            }

            .content {
                padding: 10px;
                width: 100%;
                justify-content: flex-start;
            }
        }
    </style>
</head>
<body>

    <div class="sidebar">
        <h1 id="site-title">ArtScalping</h1>
        <div class="language-switcher">
            <img src="https://flagcdn.com/fr.svg" alt="Français" onclick="setLanguage('fr')" id="lang-fr" class="active">
            <img src="https://flagcdn.com/gb.svg" alt="English" onclick="setLanguage('en')" id="lang-en">
            <img src="https://flagcdn.com/es.svg" alt="Español" onclick="setLanguage('es')" id="lang-es">
            <img src="https://flagcdn.com/cn.svg" alt="中文" onclick="setLanguage('zh')" id="lang-zh">
            <img src="https://flagcdn.com/de.svg" alt="Deutsch" onclick="setLanguage('de')" id="lang-de">
            <img src="https://flagcdn.com/pt.svg" alt="Português" onclick="setLanguage('pt')" id="lang-pt">
            <img src="https://flagcdn.com/sa.svg" alt="العربية" onclick="setLanguage('ar')" id="lang-ar">
            <img src="https://flagcdn.com/in.svg" alt="हिन्दी" onclick="setLanguage('hi')" id="lang-hi">
            <img src="https://flagcdn.com/jp.svg" alt="日本語" onclick="setLanguage('ja')" id="lang-ja">
        </div>
        <ul class="menu-list">
            <li class="menu-item">
                <a href="#" class="menu-link" data-content-type="csv" data-file="gestion25.csv" id="link-results-under-2-5">
                    <span class="icon">&#x1F4C8;</span><span class="text-fr">Résultats Under 2.5 1HT</span><span class="text-en" style="display:none;">Results Under 2.5 1HT</span><span class="text-es" style="display:none;">Resultados Under 2.5 1HT</span><span class="text-zh" style="display:none;">结果 Under 2.5 1HT</span><span class="text-de" style="display:none;">Ergebnisse Under 2.5 1HT</span><span class="text-pt" style="display:none;">Resultados Under 2.5 1HT</span><span class="text-ar" style="display:none;">نتائج Under 2.5 1HT</span><span class="text-hi" style="display:none;">परिणाम Under 2.5 1HT</span><span class="text-ja" style="display:none;">結果 Under 2.5 1HT</span>
                </a>
            </li>
            <li class="menu-item">
                <a href="#" class="menu-link" data-content-type="csv" data-file="gestion45.csv" id="link-results-under-4-5">
                    <span class="icon">&#x1F4C8;</span><span class="text-fr">Résultats Under 4.5</span><span class="text-en" style="display:none;">Results Under 4.5</span><span class="text-es" style="display:none;">Resultados Under 4.5</span><span class="text-zh" style="display:none;">结果 Under 4.5</span><span class="text-de" style="display:none;">Ergebnisse Under 4.5</span><span class="text-pt" style="display:none;">Resultados Under 4.5</span><span class="text-ar" style="display:none;">نتائج Under 4.5</span><span class="text-hi" style="display:none;">परिणाम Under 4.5</span><span class="text-ja" style="display:none;">結果 Under 4.5</span>
                </a>
            </li>
            <li class="menu-item">
                <a href="#" class="menu-link" data-content-type="csv" data-file="gestion451.csv" id="link-results-under-4-5-sequence">
                    <span class="icon">&#x1F4C8;</span><span class="text-fr">Résultats Under 4.5 Séquence</span><span class="text-en" style="display:none;">Results Under 4.5 Sequence</span><span class="text-es" style="display:none;">Resultados Under 4.5 Secuencia</span><span class="text-zh" style="display:none;">结果 Under 4.5 序列</span><span class="text-de" style="display:none;">Ergebnisse Under 4.5 Sequenz</span><span class="text-pt" style="display:none;">Resultados Under 4.5 Sequência</span><span class="text-ar" style="display:none;">نتائج Under 4.5 تسلسل</span><span class="text-hi" style="display:none;">परिणाम Under 4.5 अनुक्रम</span><span class="text-ja" style="display:none;">結果 Under 4.5 シーケンス</span>
                </a>
            </li>
            <li class="menu-item">
                <a href="payment.html" class="menu-link subscribe" data-content-type="iframe" id="link-subscribe">
                    <span class="icon">&#x1F4B3;</span><span class="text-fr">Abonnement</span><span class="text-en" style="display:none;">Subscription</span><span class="text-es" style="display:none;">Suscripción</span><span class="text-zh" style="display:none;">订阅</span><span class="text-de" style="display:none;">Abonnement</span><span class="text-pt" style="display:none;">Assinatura</span><span class="text-ar" style="display:none;">اشتراك</span><span class="text-hi" style="display:none;">सदस्यता</span><span class="text-ja" style="display:none;">購読</span>
                </a>
            </li>
            <li class="menu-item">
                <a href="mailto:ericmc2@hotmail.fr?subject=Question%20concernant%20ArtScalping" class="menu-link contact" id="link-contact">
                    <span class="icon">&#x2709;</span><span class="text-fr">Me Contacter</span><span class="text-en" style="display:none;">Contact Us</span><span class="text-es" style="display:none;">Contáctanos</span><span class="text-zh" style="display:none;">联系我们</span><span class="text-de" style="display:none;">Kontaktieren Sie uns</span><span class="text-pt" style="display:none;">Contate-nos</span><span class="text-ar" style="display:none;">اتصل بنا</span><span class="text-hi" style="display:none;">हमसे संपर्क करें</span><span class="text-ja" style="display:none;">お問い合わせ</span>
                </a>
            </li>
        </ul>
    </div>

    <div class="content" id="main-content">
        <div id="table-container"></div>
        <iframe id="content-iframe" class="main-iframe" name="content-iframe"></iframe>
    </div>

    <script>
        const links = document.querySelectorAll('.menu-link');
        const tableContainer = document.getElementById('table-container');
        const contentIframe = document.getElementById('content-iframe');
        const siteTitle = document.getElementById('site-title');
        
        // La fonction pour les traductions est toujours là
        const translations = {
            fr: {
                title: "Menu Principal - ArtScalping",
                contactSubject: "Question concernant ArtScalping",
                trialSubject: "Demande d'essai gratuit ArtScalping",
            },
            // ... autres langues
        };

        function setLanguage(lang) {
            // Logique de changement de langue
            document.documentElement.lang = lang;
            document.querySelectorAll('[class^="text-"]').forEach(el => el.style.display = 'none');
            document.querySelectorAll('.language-switcher img').forEach(el => el.classList.remove('active'));
            document.querySelectorAll(`.text-${lang}`).forEach(el => el.style.display = 'inline');
            document.getElementById(`lang-${lang}`).classList.add('active');
            
            const textContent = translations[lang];
            document.title = textContent.title;
            document.getElementById('link-contact').href = `mailto:ericmc2@hotmail.fr?subject=${encodeURIComponent(textContent.contactSubject)}`;
        }
        
        async function loadCSV(filePath) {
            try {
                const response = await fetch(filePath);
                if (!response.ok) {
                    throw new Error(`Erreur HTTP: ${response.status}`);
                }
                const data = await response.text();
                const lines = data.split('\n').filter(line => line.trim() !== '');
                const headers = lines[0].split(';');
                const body = lines.slice(1);
                
                let table = `<table id="data-table"><thead><tr>`;
                headers.forEach(header => {
                    table += `<th>${header}</th>`;
                });
                table += '</tr></thead><tbody>';
                body.forEach(line => {
                    const values = line.split(';');
                    table += '<tr>';
                    const totalColumns = values.length;
                    values.forEach((value, index) => {
                        let cellClasses = '';
                        const trimmedValue = value.trim();

                        if (filePath.includes('gestion25.csv')) {
                            const reversedIndex = totalColumns - index;
                            if (reversedIndex === 1 && trimmedValue === '1') cellClasses = 'orange-cell';
                            if (reversedIndex === 2 && trimmedValue === '1') cellClasses = 'blue-cell';
                            if (reversedIndex === 3 && trimmedValue === '1') cellClasses = 'red-cell';
                            if (reversedIndex === 4 && trimmedValue === '1') cellClasses = 'green-cell';
                        }
                        else if (filePath.includes('gestion45.csv') || filePath.includes('gestion451.csv')) {
                            const reversedIndex = totalColumns - index;
                            if (reversedIndex === 1 && trimmedValue === '1') cellClasses = 'blue-cell';
                            if (reversedIndex === 2 && trimmedValue === '1') cellClasses = 'red-cell';
                            if (reversedIndex === 3 && trimmedValue === '1') cellClasses = 'green-cell';
                        }
                        
                        if (cellClasses) {
                            table += `<td class="${cellClasses}">${value}</td>`;
                        } else {
                            table += `<td>${value}</td>`;
                        }
                    });
                    table += '</tr>';
                });
                table += '</tbody></table>';
                return table;
            } catch (error) {
                console.error('Erreur lors du chargement du fichier CSV :', error);
                return `<p style="text-align: center; color: red;">Erreur lors du chargement du tableau. Le navigateur pourrait bloquer l'accès aux fichiers locaux pour des raisons de sécurité. Essayez de lancer un serveur web ou de publier le site.</p>`;
            }
        }

        links.forEach(link => {
            link.addEventListener('click', async (e) => {
                e.preventDefault();
                const contentType = link.dataset.contentType;
                const file = link.dataset.file;
                const url = link.href;

                tableContainer.style.display = 'none';
                contentIframe.style.display = 'none';

                if (contentType === 'csv') {
                    tableContainer.innerHTML = await loadCSV(file);
                    tableContainer.style.display = 'block';
                } else if (contentType === 'iframe') {
                    contentIframe.src = url;
                    contentIframe.style.display = 'block';
                } else if (url.startsWith('mailto:')) {
                    window.location.href = url;
                }
            });
        });

        window.addEventListener('DOMContentLoaded', () => {
            setLanguage('fr');
            contentIframe.src = 'accueil.html';
            contentIframe.style.display = 'block';
        });

        // Suppression de la logique pour le titre cliquable car il n'y a plus de page d'accueil simple
        // siteTitle.addEventListener('click', () => { ... });
    </script>
</body>
</html>